<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="../../../../user_assets/user_css/style.css">
    <script type="module" src="../../../../../main_assets/js/authentication/user_reg.js"></script>

    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- Flatpickr CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <!-- Flatpickr JS -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    
    <!--=============== BOXICONS ===============-->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    
    <!--=============== CUSTOM CSS ===============-->
    <link rel="stylesheet" href="../../../../user_assets/user_css/style.css">
    <link rel="stylesheet" href="../../../controllers/assets/css/styles.css"> <!-- for bottom navbar -->

    <title>Ctrl+Park</title>
</head>
<body>
      <div class="container">

        <aside class="left-section">
            <div class="logo">
                <button class="menu-btn" id="menu-close">
                    <i class='bx bx-log-out-circle'></i>
                </button>
                <img src="../../../../user_assets/user_img/logo-white.svg">
                <a href="#">Ctrl+Park</a>
            </div>

            <div class="sidebar">
                <div class="item" id="active">
                    <i class='bx bx-home-alt'></i>
                    <a href="#">Home</a>
                </div>
                <div class="item">
                    <i class='bx bx-grid-alt'></i>
                    <a href="../parking/parking.html">Parking</a>
                </div>
                <div class="item">
                    <i class='bx bx-cog'></i>
                    <a href="../settings/settings.html">Setting</a>
                </div>
            </div>

            <button id="logout-btn" class="logout-btn">
                <i class="bx bx-log-out"></i>
            </button>


        </aside>

        <main>
            <header>
                <button class="menu-btn" id="menu-open">
                    <i class='bx bx-menu'></i>
                </button>
                <h5>Hello <b id="userNameHeader">Guest</b>, welcome back!</h5>
            </header>


            <div class="separator">
                <div class="info">
                    <h3>Parking</h3>
                    <!-- <a href="#">View All</a> -->
                </div>
                <!-- <div class="search">
                    <i class='bx bx-search'></i>
                    <input type="text" placeholder="Search Parking Area">
                </div> -->
            </div>

            <div class="analytics">
                <div class="item">
                    <div class="progress video-container">
                        <div class="info">
                        <h5>Live Stream</h5>
                        <!-- <p>Parking</p> -->
                        </div>
                        <!-- ✅ Live stream video -->
                        <img 
                        src="https://stream.bsitport2026.com/video_feed" 
                        alt="Live Stream" 
                        id="liveStream"
                        >
                    </div>
                </div>
                <div class="item">
                      <div class="progress map-container">
                        <div class="info">
                        <h5>2D Map</h5>
                        <p>Navigation Graph</p>
                        </div>
                        <!-- ✅ Canvas for map -->
                        <canvas id="mapCanvas" width="600" height="400"></canvas>
                    </div>
                </div>
            </div>

            <!-- history -->
            <div class="separator">
                <div class="info">
                    <h3>History</h3>
                    <a href="history.html">View All</a>
                </div>
                <input type="date" id="history-calendar">
            </div>
            
            <div class="weekly">
                <div class="recent-activity"></div>
            </div>

        </main>

        <aside class="right-section">
            <div class="top">
                <!-- Bell button -->
                <button id="notifBtn" class="notif-btn">
                    <i class='bx bx-bell'></i>
                </button>

                <div class="profile">
                    <div class="left">
                        <!-- Profile Picture -->
                        <img id="user-photo" src="../../../../user_assets/user_img/default-avatar.svg" alt="User Photo" class="avatar">
                        <div class="user">
                             <!-- Name -->
                             <h5 id="user-name">Guest</h5>
     
                             <!-- Role -->                      
                            <a id="user-plan">Role</a>
                        </div>

                    </div>
                    <i class='bx bxs-chevron-right'></i>
                </div>
            </div>

            <div class="separator" id="first">
                <h4>Statistics</h4>
            </div>

            <div class="stats">
                <div class="item">
                    <div class="top">
                    <p>Number of</p>
                    <p>Entries</p>
                    </div>
                    <div class="bottom">
                    <div class="line"></div>
                    <h3 id="entriesCount">0</h3>
                    </div>
                </div>
                <div class="item">
                    <div class="top">
                    <p>Number of</p>
                    <p>Exits</p>
                    </div>
                    <div class="bottom">
                    <div class="line"></div>
                    <h3 id="exitsCount">0</h3>
                    </div>
                </div>
                <div class="item">
                    <div class="top">
                    <p>Total Time</p>
                    <p>Parked</p>
                    </div>
                    <div class="bottom">
                    <div class="line"></div>
                    <h3 id="totalTime">0</h3>
                    </div>
                </div>
                <div class="item">
                    <div class="top">
                    <p>Violations</p>
                    </div>
                    <div class="bottom">
                    <div class="line"></div>
                    <h3 id="violationsCount">0</h3>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Modal structure -->
        <div id="notifModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h3>Notifications</h3>
                <div id="notifList">
                <p>No new notifications.</p>
                </div>
            </div>
        </div>

    </div>
    <!-- BOTTOM NAVBAR (Mobile & Medium devices) -->
    <header class="header" id="header">
        <nav class="nav container">

            <div class="nav__menu" id="nav-menu">
                <ul class="nav__list">
                <li class="nav__item">
                    <a href="#" class="nav__link active-link">
                    <i class='bx bx-home-alt nav__icon'></i>
                    <span class="nav__name">Home</span>
                    </a>
                </li>

                <li class="nav__item">
                    <a href="../parking/parking.html" class="nav__link">
                    <i class='bx bx-grid-alt nav__icon'></i>
                    <span class="nav__name">Parking</span>
                    </a>
                </li>

                <li class="nav__item">
                    <a href="../settings/settings.html" class="nav__link">
                    <i class='bx bx-cog nav__icon'></i>
                    <span class="nav__name">Settings</span>
                    </a>
                </li>

                </ul>
            </div>
        </nav>
    </header>

    <!-- Scripts -->
    <script src="assets/js/main.js"></script>
    <script src="../../../../user_assets/user_js/user_script.js"></script>
    <script type="module" src="../../../authentication/user_log.js"></script>
    <script type="module" src="../../../../user_assets/user_js/map.js"></script>
    <script type="module" src="../../../../user_assets/user_js/history.js"></script>
</body>

</html>
